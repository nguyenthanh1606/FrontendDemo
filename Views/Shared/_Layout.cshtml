<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@(!string.IsNullOrEmpty(ViewBag.Title) ? ViewBag.Title + " - " + ViewBag.SiteTitle : ViewBag.SiteTitle)</title>
    <meta name="description" content="@ViewBag.Description" />
    <meta name="keywords" content="@ViewBag.MetaKeywords"/>
    @*Facebook meta*@
    <meta property="og:url" content="@Request.Url.GetLeftPart(UriPartial.Path)" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="@Html.Raw(ViewBag.Title)" />
    <meta property="og:description" content="@Html.Raw(ViewBag.Description)" />
    <meta property="og:image" content="@ViewBag.Image" />

    @Styles.Render("~/Content/css/site")
    @Scripts.Render("~/bundles/modernizr")
    @RenderSection("css", required: false)
    @Styles.Render("~/Content/css/default")

    @{Html.RenderAction("GoogleAnalytics", "Layout");}
</head>
<body>

        <header class="clearfix">
            @{Html.RenderAction("Header", "Layout");}
        </header>
    <section class="" id="main">
        @RenderBody()
        @Html.AlertModal("")

        <div id="addToCartModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">@Resource.AddToCartSuccessfully</h4>
                    </div>
                    <div class="modal-body">
                        <div id="product_modal_info"></div>
                    </div>
                    <div class="modal-footer">
                        @Html.ActionLink(Resource.ToShoppingCart, "List", "ShoppingCart", null, new { @class = "btn btn-default" })
                        <button type="button" class="btn btn-primary" data-dismiss="modal">@Resource.ContinueShopping</button>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer>
        @{Html.RenderAction("Footer", "Layout");}
    </footer>

    @Scripts.Render("~/bundles/site")
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/default")

    @RenderSection("scripts", required: false)
    @Html.RenderDefaultThemeScripts()

    <script>
        $(document).ready(function(){
            UpdateCartNumber();
        });

        $('#search-btn').click(function (e) {
            $('#search-form').toggle();
            $('#search-form').addClass("active");
            $('#search-form').focus();
            e.stopPropagation();
        });

        $('body').click(function (e) {
            var container = $('#search-form');
            if (container.hasClass("active")){
                if (e.target != $('#search-form') && !$(e.target).parents('#search-form').length) {
                    container.removeClass("active");
                    $('#search-form').hide();
                }
            }

        });



        $('#search_area').submit(function (e) {
            e.preventDefault();
            window.location.href = $('#search_area').attr("action") + "?query=" + $('#query').val();
        });
    </script>
</body>
</html>
